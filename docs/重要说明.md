# 重要说明：macOS 窗口嵌入限制

## 问题根本原因

**macOS 系统限制**：不允许跨进程窗口嵌入

这意味着：
- ❌ 不能通过命令行启动 MPV 并嵌入到 Electron 窗口
- ❌ `spawn('mpv', ['--wid=...'])` 这种方式的 `--wid` 参数不会生效
- ✅ 窗口句柄已正确传递，但 MPV 进程无法访问 Electron 窗口

## 当前代码状态

你的代码：
1. ✅ 正确获取了窗口句柄
2. ✅ 正确传递给了 MPV
3. ❌ 但 macOS 阻止了跨进程窗口访问

## 可行的解决方案

### 方案 1：使用 libmpv（真正嵌入）⭐⭐⭐

在 Electron 主进程中直接使用 libmpv C 库：
- ✅ 同一进程，可以真正嵌入窗口
- ❌ 需要编写 C++ addon
- ❌ 需要编译原生代码

### 方案 2：透明窗口同步（推荐）⭐⭐⭐⭐⭐

- Electron 窗口透明，只显示控制面板
- MPV 独立窗口，性能最好
- 两个窗口位置和大小同步
- ✅ 不需要编译，实现简单

## 你希望采用哪个方案？

1. **方案 1**：我来实现 libmpv 集成（需要 C++ 代码）
2. **方案 2**：我来实现窗口同步（更简单，推荐）
3. **其他方案**：如果你有其他想法

告诉我你的选择，我会立即实现！
