# Cursor AI 工作流检查清单

> **目的**: 确保每个开发任务都遵循"先规划，再执行"的工作流  
> **使用**: 在开发过程中逐项检查，确保不遗漏任何步骤

## ⚡ 快速通道 (仅限简单任务)

- [ ] **确认任务性质**
  - [ ] 仅涉及文案、注释、配置微调
  - [ ] 单行代码修复
  - [ ] 不影响架构、IPC、数据流

- [ ] **执行并验证**
  - [ ] 实施修改
  - [ ] 运行相关验证/测试
  - [ ] 确认无副作用

## 🚀 开始新任务前

### 准备阶段

- [ ] **明确任务目标**
  - [ ] 清楚知道要实现什么功能
  - [ ] 理解业务需求和用户场景
  - [ ] 明确成功标准

- [ ] **选择合适的模板**
  - [ ] 从 `PROMPT_TEMPLATES.md` 选择合适模板
  - [ ] 或根据任务特点自定义提示词

- [ ] **准备上下文**
  - [ ] 确定需要引用的代码文件
  - [ ] 准备相关的背景信息
  - [ ] 了解相关的现有功能

## 📋 规划阶段

### 提示词检查

- [ ] **使用规划模式**
  - [ ] 提示词以【规划模式】开头
  - [ ] 明确要求"只提供计划，不要修改代码"

- [ ] **提供足够上下文**
  - [ ] 使用 `@文件名` 引用相关代码
  - [ ] 描述清楚需求
  - [ ] 说明期望的结果

### 规划质量检查

- [ ] **AI 提供了详细计划**
  - [ ] 包含文件清单（创建/修改的文件）
  - [ ] 包含实现步骤（分步骤说明）
  - [ ] 包含架构设计（如何融入现有架构）
  - [ ] 包含风险评估（潜在问题）
  - [ ] 包含测试方案（如何验证）

- [ ] **计划合理性审核**
  - [ ] 计划符合项目架构
  - [ ] 步骤逻辑清晰
  - [ ] 风险可控
  - [ ] 测试方案可行

- [ ] **影响范围评估**
  - [ ] 了解对现有功能的影响
  - [ ] 确认不会破坏现有逻辑
  - [ ] 评估性能影响（如果涉及）

## ✏️ 执行前确认

### 计划确认

- [ ] **计划已理解**
  - [ ] 理解每个步骤的目的
  - [ ] 理解文件修改的原因
  - [ ] 理解架构设计思路

- [ ] **已提出疑问（如有）**
  - [ ] 对不清楚的地方提问
  - [ ] 对风险点进行讨论
  - [ ] 确认实现细节

- [ ] **计划已优化（如有需要）**
  - [ ] 根据反馈调整计划
  - [ ] 确认最终方案

- [ ] **明确确认执行**
  - [ ] 明确说"开始实现"或"执行"
  - [ ] 或使用其他明确的执行指令

## 🔧 执行阶段

### 代码质量检查

- [ ] **AI 按计划实施**
  - [ ] 按照规划的步骤执行
  - [ ] 修改了计划中的文件
  - [ ] 没有超出计划范围

- [ ] **代码风格一致**
  - [ ] 遵循项目代码风格
  - [ ] 命名规范一致
  - [ ] 注释清晰

- [ ] **类型安全**
  - [ ] TypeScript 类型正确
  - [ ] 没有使用 any（除非必要）
  - [ ] 接口定义清晰

- [ ] **错误处理完善**
  - [ ] Promise 有错误处理
  - [ ] IPC 通信有错误回调
  - [ ] 边界情况已考虑

- [ ] **架构符合规范**
  - [ ] 遵循 Electron 进程边界
  - [ ] IPC 通信正确
  - [ ] 状态管理合理

## ✅ 完成后

### 测试验证

- [ ] **运行开发环境**
  ```bash
  npm run dev
  ```

- [ ] **功能测试**
  - [ ] 新功能正常工作
  - [ ] 现有功能未受影响
  - [ ] 边界情况已测试

- [ ] **代码检查**
  - [ ] 没有 TypeScript 错误
  - [ ] 没有 ESLint 错误（如果有）
  - [ ] 代码可以正常构建

- [ ] **问题处理**
  - [ ] 如有问题，使用 `/undo` 撤销
  - [ ] 分析问题原因
  - [ ] 重新规划或调整

### 文档更新

- [ ] **更新相关文档（如需要）**
  - [ ] README.md（如果涉及用户功能）
  - [ ] 代码注释
  - [ ] 规划文档（标记为已完成）

## 🔄 迭代改进

### 工作流优化

- [ ] **记录问题**
  - [ ] 记录执行过程中的问题
  - [ ] 记录工作流的不足

- [ ] **更新文档**
  - [ ] 更新模板（如果发现更好的方式）
  - [ ] 更新检查清单（如果发现遗漏）
  - [ ] 在 `CHANGELOG.md` 中记录

## 📝 特殊情况

### 紧急修复

如果遇到紧急 Bug 需要快速修复：

- [ ] 仍然先制定简要计划
- [ ] 快速确认后执行
- [ ] 事后补充完整文档

### 小改动

即使是小改动：

- [ ] 也要先说明计划
- [ ] 确认后再执行
- [ ] 保持工作流一致性

---

## 💡 使用建议

1. **打印或保存**: 可以将此清单保存为文件，每次任务时对照检查
2. **逐步完善**: 根据实际使用情况，逐步完善清单内容
3. **团队共享**: 确保团队成员都了解和使用此清单

## 🔄 更新记录

### 2026-01-25
- 初始版本
- 包含完整的检查清单

### [未来更新]
- [更新内容]
